<%!-- Material UI Full Page Layout Template
     This is a complete page layout structure following Material UI patterns.

     Structure:
     - Fixed AppBar at top (h-16)
     - Fixed Drawer on left (w-64)
     - Main content area with proper margins
     - Optional Right Panel (w-80)
--%>

<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= assigns[:page_title] || "Application" %></title>

  <%!-- Lottie Player for animated logo --%>
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <%!-- Your CSS --%>
  <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
  <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}></script>
</head>

<body class="h-full bg-[#F5F5F5]">
  <%!-- === APPBAR (Fixed Top) === --%>
  <header class="bg-white shadow-sm h-16 fixed top-0 left-0 right-0 z-50 flex items-center px-4">
    <%!-- Left: Logo --%>
    <div class="flex items-center gap-4">
      <a href="/" class="flex items-center">
        <lottie-player
          src="/brand/InteractorLogo_Light.json"
          background="transparent"
          speed="1"
          style="width: 120px; height: 40px;"
          autoplay
        ></lottie-player>
      </a>
    </div>

    <%!-- Center: Search --%>
    <div class="flex-1 max-w-2xl mx-8">
      <div class="relative">
        <input
          type="text"
          placeholder="What can I do for you?"
          class="w-full px-4 py-2 rounded-lg bg-gray-100 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#4CD964] focus:border-transparent"
        />
        <button class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-[#4CD964]">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2l1.5 4.5L16 8l-4.5 1.5L10 14l-1.5-4.5L4 8l4.5-1.5L10 2z"/>
          </svg>
        </button>
      </div>
    </div>

    <%!-- Right: Actions --%>
    <div class="flex items-center gap-4">
      <%!-- Quick Create FAB --%>
      <button class="bg-[#4CD964] hover:bg-[#3DBF55] rounded-full w-10 h-10 shadow-md flex items-center justify-center text-white transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
      </button>

      <%!-- Notifications (Dual Badge) --%>
      <button class="relative p-2 text-gray-600 hover:text-gray-900">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
        </svg>
        <span class="absolute -top-1 -right-1 bg-[#4CD964] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">3</span>
        <span class="absolute -bottom-1 -right-1 bg-[#FF3B30] text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">1</span>
      </button>

      <%!-- Profile --%>
      <a href="/settings" class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center">
        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
      </a>
    </div>
  </header>

  <%!-- === LEFT DRAWER (Fixed) === --%>
  <aside class="w-64 bg-white h-screen fixed left-0 top-16 shadow-lg flex flex-col z-40">
    <%!-- Create Button --%>
    <div class="p-4">
      <button class="w-full bg-[#4CD964] hover:bg-[#3DBF55] text-white font-medium py-3 rounded-full shadow-md transition-colors flex items-center justify-center gap-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
        Create New
      </button>
    </div>

    <%!-- Navigation --%>
    <nav class="flex-1 px-2 py-4 overflow-y-auto">
      <ul class="space-y-1">
        <li>
          <a href="/" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            Dashboard
          </a>
        </li>
        <%!-- Add more navigation items here --%>
      </ul>
    </nav>

    <%!-- Feedback Section (MANDATORY - fixed at bottom) --%>
    <div class="border-t border-gray-200 p-4">
      <p class="text-xs text-gray-500 text-center mb-3">How are we doing?</p>
      <div class="flex justify-center gap-2">
        <button class="text-2xl hover:scale-110 transition-transform">ğŸ˜¡</button>
        <button class="text-2xl hover:scale-110 transition-transform">ğŸ˜Ÿ</button>
        <button class="text-2xl hover:scale-110 transition-transform">ğŸ˜</button>
        <button class="text-2xl hover:scale-110 transition-transform">ğŸ˜Š</button>
        <button class="text-2xl hover:scale-110 transition-transform">ğŸ˜</button>
      </div>
    </div>
  </aside>

  <%!-- === MAIN CONTENT === --%>
  <main class="ml-64 pt-16 min-h-screen">
    <div class="p-6">
      <%!-- Flash Messages --%>
      <.flash_group flash={@flash} />

      <%!-- Page Content --%>
      <%= @inner_content %>
    </div>
  </main>

  <%!-- === OPTIONAL: RIGHT PANEL === --%>
  <%!-- Uncomment when needed for Quick Create or detail views
  <aside class="w-80 bg-white h-screen fixed right-0 top-16 shadow-lg z-40">
    <div class="p-4">
      <h2 class="text-lg font-semibold">Panel Title</h2>
    </div>
  </aside>
  --%>
</body>
</html>
