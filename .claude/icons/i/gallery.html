<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Gallery - 2684 SVG Icons</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; padding: 20px; }
        h1 { text-align: center; margin-bottom: 10px; color: #333; }
        .stats { text-align: center; margin-bottom: 20px; color: #666; }
        .format-badge { background: #4CAF50; color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
        .search { display: flex; justify-content: center; margin-bottom: 20px; gap: 10px; flex-wrap: wrap; }
        .search input { padding: 10px 15px; font-size: 16px; border: 1px solid #ddd; border-radius: 8px; width: 300px; }
        .search select { padding: 10px 15px; font-size: 16px; border: 1px solid #ddd; border-radius: 8px; }
        .category { margin-bottom: 30px; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .category h2 { margin-bottom: 15px; color: #333; font-size: 18px; border-bottom: 2px solid #4CAF50; padding-bottom: 8px; display: inline-block; }
        .category-count { color: #888; font-weight: normal; font-size: 14px; }
        .icons { display: grid; grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)); gap: 12px; }
        .icon { background: #fafafa; border: 1px solid #eee; border-radius: 8px; padding: 8px; text-align: center; cursor: pointer; transition: all 0.2s; }
        .icon:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.15); border-color: #4CAF50; }
        .icon img { width: 48px; height: 48px; object-fit: contain; margin-bottom: 6px; }
        .icon-name { font-size: 9px; color: #666; word-break: break-all; line-height: 1.2; max-height: 32px; overflow: hidden; }
        .hidden { display: none !important; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal.active { display: flex; }
        .modal-content { background: white; padding: 30px; border-radius: 12px; text-align: center; max-width: 500px; }
        .modal-content img { width: 128px; height: 128px; object-fit: contain; margin-bottom: 15px; }
        .modal-content h3 { margin-bottom: 10px; word-break: break-all; font-size: 16px; }
        .modal-content p { color: #666; margin-bottom: 10px; font-size: 14px; }
        .modal-content code { background: #f0f0f0; padding: 10px 15px; border-radius: 6px; display: block; font-size: 12px; word-break: break-all; margin-bottom: 15px; }
        .modal-content button { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 14px; }
        .modal-content button:hover { background: #45a049; }
        .modal-close { position: absolute; top: 20px; right: 30px; color: white; font-size: 30px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>ðŸŽ¨ Icon Gallery</h1>
    <div class="stats">
        <span class="format-badge">SVG</span>
        2684 vector icons across 33 categories
    </div>

    <div class="search">
        <input type="text" id="search" placeholder="Search icons..." onkeyup="filterIcons()">
        <select id="categoryFilter" onchange="filterIcons()">
            <option value="">All Categories</option>
        </select>
    </div>

    <div id="gallery"></div>

    <div class="modal" id="modal" onclick="closeModal()">
        <span class="modal-close">&times;</span>
        <div class="modal-content" onclick="event.stopPropagation()">
            <img id="modal-img" src="" alt="">
            <h3 id="modal-name"></h3>
            <p id="modal-category"></p>
            <code id="modal-path"></code>
            <button onclick="copyPath()">Copy Path</button>
        </div>
    </div>

    <script>
        let currentPath = '';

        fetch('index.json')
            .then(r => r.json())
            .then(data => {
                const gallery = document.getElementById('gallery');
                const categoryFilter = document.getElementById('categoryFilter');

                const byCategory = {};
                data.icons.forEach(icon => {
                    if (!byCategory[icon.category]) byCategory[icon.category] = [];
                    byCategory[icon.category].push(icon);
                });

                const categories = Object.keys(byCategory).sort();

                categories.forEach(cat => {
                    const opt = document.createElement('option');
                    opt.value = cat;
                    opt.textContent = `${cat} (${byCategory[cat].length})`;
                    categoryFilter.appendChild(opt);
                });

                categories.forEach(cat => {
                    const section = document.createElement('div');
                    section.className = 'category';
                    section.dataset.category = cat;
                    section.innerHTML = `<h2>${cat} <span class="category-count">(${byCategory[cat].length})</span></h2><div class="icons"></div>`;

                    const iconsDiv = section.querySelector('.icons');
                    byCategory[cat].forEach(icon => {
                        const div = document.createElement('div');
                        div.className = 'icon';
                        div.dataset.name = icon.semantic_name.toLowerCase();
                        div.dataset.category = cat;
                        div.onclick = () => showModal(icon);
                        div.innerHTML = `<img src="${icon.path}" alt="${icon.semantic_name}" loading="lazy"><div class="icon-name">${icon.semantic_name}</div>`;
                        iconsDiv.appendChild(div);
                    });

                    gallery.appendChild(section);
                });
            });

        function filterIcons() {
            const search = document.getElementById('search').value.toLowerCase();
            const cat = document.getElementById('categoryFilter').value;

            document.querySelectorAll('.category').forEach(section => {
                const sectionCat = section.dataset.category;
                if (cat && sectionCat !== cat) {
                    section.classList.add('hidden');
                    return;
                }
                section.classList.remove('hidden');

                let hasVisible = false;
                section.querySelectorAll('.icon').forEach(icon => {
                    const matches = icon.dataset.name.includes(search) || icon.dataset.category.includes(search);
                    icon.classList.toggle('hidden', !matches);
                    if (matches) hasVisible = true;
                });
                section.classList.toggle('hidden', !hasVisible);
            });
        }

        function showModal(icon) {
            document.getElementById('modal-img').src = icon.path;
            document.getElementById('modal-name').textContent = icon.semantic_name;
            document.getElementById('modal-category').textContent = `Category: ${icon.category} â€¢ Format: SVG`;
            document.getElementById('modal-path').textContent = icon.path;
            currentPath = icon.path;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function copyPath() {
            navigator.clipboard.writeText(currentPath).then(() => {
                alert('Path copied to clipboard!');
            });
        }

        document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });
    </script>
</body>
</html>
